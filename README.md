# 字符串相似度比较工具

一个纯前端、开箱即用的字符串相似度比较工具。支持批量比对两列文本，展示最相似值与前5个相似值，提供字符级差异高亮与锁定功能。

## 功能概览

- **批量比较**：源列 vs 目标列，一键计算
- **多算法融合**：编辑距离 + Jaro-Winkler（可调权重）
- **字符级差异高亮**：
  - 新增（相对源的插入）：红底 `.diff-added`
  - 删除（相对源的删除）：绿底+删除线 `.diff-removed`
- **同义词参与计算**：同义词仅影响相似度与命中；展示仍按原文对比
- **最相似值Top5**：主结果+最多5个备选
- **自动锁定100%**：最相似值相似度为100%时自动锁定
- **进度跟踪**：实时进度条与状态文本
- **结果管理**：锁定/导出/简化导出/保存/加载/清空结果
- **示例与默认同义词**：默认加载示例数据与示例同义词（“阿里巴巴集团,阿里”）

## 快速开始

1. 打开`index.html`
2. 默认已填充示例数据与示例同义词
3. 点击“开始比较”查看结果（最相似值与前5个相似值，并显示字符级差异）

## 使用说明

### 输入
- “源数据列”：每行一个待匹配文本
- “目标数据列”：每行一个候选文本
- 支持从 Excel 粘贴

### 设置
- 相似度阈值（0-100%）
- 文本预处理：忽略标点、全角转半角、忽略不可见字符、整体字符串模式
- 同义词组：逗号分隔，如`阿里巴巴集团,阿里`（仅用于计算，不影响显示对比）

### 运行
- 点击“开始比较”执行
- 进度条实时显示处理进度
- 相似度=100%行自动锁定

### 查看结果
- 列表按相似度降序
- 每行显示：源数据、最相似值（字符级差异高亮）、相似度、其他相似值（前5）
- 点击“锁定”固定当前行匹配结果
- 点击“清空结果”可一键重置结果与状态

### 导出/保存
- 导出结果（含相似度）
- 导出简化结果（不含相似度）
- 保存/加载数据到浏览器本地

## 设计与细节

- 颜色分级用于相似度徽标：
  - exact：100%
  - similar：≥80%
  - medium：≥阈值
  - low：< 阈值
- 差异高亮基于 LCS（可切换算法的内部实现已预留在计算器中）
- 展示对比始终基于原文字符，不进行同义词替换

## 技术栈

- HTML5 / CSS3 / JavaScript（ES6+）
- 纯前端，无第三方依赖

## 文件结构

```
similar_AI_build/
├── index.html       # 主页面
├── styles.css       # 样式
├── app.js           # 应用逻辑与UI
├── similarity.js    # 相似度与差异计算
└── README.md        # 文档
```

## 注意事项

1. 大数据量比较会耗时，请关注进度提示
2. 浏览器环境存储在 localStorage，清理浏览器数据会丢失保存内容
3. 阈值越高，过滤越严格；同义词只影响计算，不影响展示对比

## 变更记录

- 自动锁定 100% 相似度
- 字符级差异高亮（新增=红底，删除=绿底+删除线）
- 增加“清空结果”按钮
- 默认示例同义词：阿里巴巴集团,阿里
